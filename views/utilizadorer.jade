extends layout
block content
	.seccao.container.white
		form(id="formulario", method="POST")
			fieldset.no-border.legend-border
				legend.selmecAzul.bold <span data-i18n="demo.utilizador_form.dados_basicos"></span>
				.row
					.col.s12.m6
						label(for="nivel_acesso") <span data-i18n="demo.utilizador_form.nivel_acesso"></span>
						select.browser-default(id="nivel_acesso", name="nivel_acesso", style="font-family:")
							if Usuarios
								if Usuarios[0].nivel_acesso == "normal"
									option(value="normal", select.browser-defaulted="select.browser-defaulted") Normal
								else
									option(value="admin", select.browser-defaulted="select.browser-defaulted") Administrador
							else
								option(value="normal") Normal
								option(value="admin") Administrador
					.col.s12.m6.input-field
						label(for="nome") <span data-i18n="demo.utilizador_form.nome"></span>
						input.preencher(autocomplete="off", type="text", style="font-family:;color:#12375c" ,id="nome" ,name="nome", value="#{Usuarios? Usuarios[0].nome : ''}")
					.col.s12.m6.input-field.exclusivo
						label(for="user_code") Codigo do Utilizador
						input.preencher(autocomplete="off", type="text", style="font-family:;color:#12375c" ,id="user_code" ,name="user_code", value="#{Usuarios? Usuarios[0].user_code : ''}")
					.col.s12.m6.input-field.exclusivo
						label(for="carta_conducao") <span data-i18n="demo.utilizador_form.carta_conducao"></span>
						input.preencher( autocomplete="off", type="text", style="font-family:;color:#12375c" ,id="carta_conducao" ,name="carta_conducao", value="#{Usuarios? Usuarios[0].carta_conducao : ''}")
					.col.s12.m6.input-field.exclusivo
						label(for="data_nascimento")<span data-i18n="demo.utilizador_form.data_nasc"></span>
						input( type="text", data-mask="00/00/0000", id="data_nascimento", name="data_nascimento", value="#{Usuarios? Usuarios[0].data_nascimento : ''}")
					.col.s12.m6.input-field.exclusivo
						label(for="Validade_carta") <span data-i18n="demo.utilizador_form.validade_carta"></span>
						input.preencher( autocomplete="off", type="text", data-mask="00/00/0000", style="font-family:;color:#12375c" ,id="Validade_carta" ,name="Validade_carta", value="#{Usuarios? Usuarios[0].Validade_carta : ''}")
			fieldset.no-border.legend-border
				legend.selmecAzul.bold <span data-i18n="demo.utilizador_form.area"></span>
				.row
					.col.s12.m6
						label(for="regiao") <span data-i18n="demo.utilizador_form.regiao"></span>
						select.browser-default(name="regiao", id="regiao", style="font-family:")
							-for(let i=0; i<AdMagen[0].regiao.length; i++)
								option(value="#{AdMagen[0].regiao[i].nome}", data-cont="#{AdMagen[0].regiao[i]._id}") #{AdMagen[0].regiao[i].nome}
					.col.s12.m6.exclusivo
							label(for="departamento") <span data-i18n="demo.utilizador_form.departamento"></span>
							select.browser-default(id="departamento", name="departamento")
								-for(let i=0; i<AdMagen[0].departamento.length; i++)
									option(value="#{AdMagen[0].departamento[i].nome}" , data-cont="#{AdMagen[0].departamento[i]._id}") #{AdMagen[0].departamento[i].nome}
					.col.s12.m6
						label(for="provincia_trabalho") <span data-i18n="demo.utilizador_form.provincia"></span>
						select.browser-default.browser-default(name="provincia_trabalho", id="provincia_trabalho", style="font-family:")
								option(value="Maputo", data-cont="611df4937d82f600d87c4be4") Maputo
					.col.s12.m6.input-field.exclusivo
						label(for="profissao") <span data-i18n="demo.utilizador_form.supervisor"></span>
						input.preencher( autocomplete="off", type="text" id="nome_supervisor" name="nome_supervisor" value="#{Usuarios ? Usuarios[0].nome_supervisor : ''}", style="font-family:")
				.row
					.col.s12.m6.input-field.exclusivo
						label(for="telefone_supervisor") <span data-i18n="demo.utilizador_form.telefone_super"></span>
						input.preencher( autocomplete="off", type="text", id="telefone_supervisor", name="telefone_supervisor", value="#{Usuarios ? Usuarios[0].telefone_supervisor : ''}", style="font-family:")
					.col.s12.m6.exclusivo
						label(for="funcao") <span data-i18n="demo.utilizador_form.funcao"></span>
						select.browser-default.browser-default(name="funcao", id="funcao", style="font-family:")
							//- -for(let i=0; i<AdMagen[0].funcao.length; i++)
							//- 	option(value="#{AdMagen[0].funcao[i].nome}", data-cont="#{AdMagen[0].funcao[i]._id}") #{AdMagen[0].funcao[i].nome}
			fieldset.no-border.legend-border.exclusivo
				legend.selmecAzul.bold <span data-i18n="demo.utilizador_form.veiculo"></span>
				.row
					.col.s12.m6.input-field.exclusivo
						label(for="matricula") <span data-i18n="demo.utilizador_form.matricula"></span>
						input.preencher( autocomplete="off", type="text", name="matricula", id="matricula",readonly, value="#{Usuarios ? Usuarios[0].matricula : 'SEM VEICULO'}", style="font-family:")
					.col.s12.m6.input-field.exclusivo
						label(for="marca") <span data-i18n="demo.utilizador_form.marca"></span>
						input.preencher( autocomplete="off", type="text", name="marca", id="marca",readonly, value="#{Usuarios ? Usuarios[0].marca : 'SEM VEICULO'}", style="font-family:")
				.row
					.col.s12.m6.input-field.exclusivo
						label(for="modelo") <span data-i18n="demo.utilizador_form.modelo"></span>
						input.preencher(autocomplete="off", type="text", name="modelo", id="modelo", readonly, value="#{Usuarios ? Usuarios[0].modelo : 'SEM VEICULO'}", style="font-family:")		
					.col.s12.m6.input-field.exclusivo
						label(for="ano_aquisicao") <span data-i18n="demo.utilizador_form.ano"></span>
						input.preencher( autocomplete="off", type="text", name="ano_aquisicao", id="ano_aquisicao",readonly, data-mask="0000",value="#{Usuarios ? Usuarios[0].ano_aquisicao : '0'}", style="font-family:")
				.row
					.col.s12.m6.input-field.exclusivo
						label(for="kilometragem") <span data-i18n="demo.utilizador_form.kilometros"></span>
						input.preencher(autocomplete="off", type="number", name="kilometragem", id="kilometragem", readonly, value="#{Usuarios ? Usuarios[0].kilometragem : '0'}", style="font-family:")
			fieldset.no-border.legend-border
				legend.selmecAzul.bold <span data-i18n="demo.utilizador_form.contact"></span>
				.row
					.col.s12.m6.input-field
						label(for="telefone_1") <span data-i18n="demo.utilizador_form.telefone"></span>
						input.preencher( autocomplete="off", type="text", id="telefone_1", name="telefone_1", value="#{Usuarios ? Usuarios[0].telefone_1 : ''}", style="font-family:")
					.col.s12.m6.input-field
						label(for="email") email
						input.preencher( autocomplete="off", type="email", name="email", id="email", value="#{Usuarios ? Usuarios[0].email : ''}", style="font-family:")
				.row
					.col.s12.m6.input-field.exclusivo
						label(for="user_pettycash") <span data-i18n="demo.utilizador_form.pettycashamount"></span>
						input.preencher( autocomplete="off", type="number", readonly, id="user_pettycash", name="user_pettycash", value="#{Usuarios ? Usuarios[0].user_pettycash : 0}", style="font-family:")
			fieldset.no-border.legend-border
				legend.selmecAzul.bold <span data-i18n="demo.utilizador_form.credenciais"></span>
				.row
					.col.s12.m6.input-field
						label(for="username") <span data-i18n="demo.utilizador_form.username"></span>
						input.preencher( autocomplete="off", type="text", name="username", id="username", value="#{Usuarios ? Usuarios[0].username : ''}", style="font-family:")
					.col.s12.m6.input-field
						label(for="senha") <span data-i18n="demo.utilizador_form.password"></span>
						input.preencher( autocomplete="off", type="password", id="senha", name="senha", value="#{Usuarios ? Usuarios[0].senha : ''}", style="font-family:")

			fieldset.no-border
				.row.buttons-container
					if !Usuarios
						.col.s12.m6.left-button
							button(type="button", class="btn", id="registar_util") <span data-i18n="demo.utilizador_form.gravar"></span>

						.col.s12.m6.right-button
							button(type="button", class="btn red", id="cancelar_util") <span data-i18n="demo.utilizador_form.cancelar"></span>
					else
						.col.s12.center
							butoon#voltar_util(type="button", class="btn waves-efect waves-light activarAzul") << Back
	block js
		script(type="text/javascript" src="/js/jquery.mask.js")

		script.
			var region = document.getElementById('regiao'); 
			var province = document.getElementById('provincia_trabalho');
			
			var dep = document.getElementById('departamento');
			var cargo = document.getElementById('funcao');  

			console.log('DEP');
			console.log($("#departamento").val());


			region.onchange = () => {				
				switch($("#regiao").val()) {
				case "maputo":
					province.innerHTML = "<option value=Maputo data-cont=611df4937d82f600d87c4be4>Maputo</option>";	
					break;
				case "sul":
					province.innerHTML = "<option value=Gaza data-cont=611e23d0f9b1b31cd868a302>Gaza</option><option value=Inhambane data-cont=611e23f0f9b1b31cd868a303>Inhambane</option>";	
					break;
				case "centro":
					province.innerHTML = "<option value=Sofala data-cont=611e243af9b1b31cd868a304>Sofala</option><option value=Manica data-cont=611e245af9b1b31cd868a305>Manica</option><option value=Zambezia data-cont=611e2485f9b1b31cd868a306>Zambezia</option><option value=Tete data-cont=611e24bef9b1b31cd868a307>Tete</option>";	
					break;
				case "norte":
					province.innerHTML = "<option value=Nampula data-cont=611e24eef9b1b31cd868a308>Nampula</option><option value=Niassa data-cont=611e250ef9b1b31cd868a309>Niassa</option><option value=Cabo Delgado data-cont=611e2577f9b1b31cd868a30a>Cabo Delgado</option>";	
					break;
				}
			}

			dep.onchange = () => {	

				switch($("#departamento").val()) {
					case "Telco":
						cargo.innerHTML = "<option value=Maputo data-cont=611df4937d82f600d87c4be4>Maputo</option>";	
						break;
					case "Climatização e Electricidade":
						cargo.innerHTML = "<option value=Gaza data-cont=611e23d0f9b1b31cd868a302>Gaza</option><option value=Inhambane data-cont=611e23f0f9b1b31cd868a303>Inhambane</option>";	
						break;
					case "Financeiro":
						cargo.innerHTML = "<option value=Sofala data-cont=611e243af9b1b31cd868a304>Sofala</option><option value=Manica data-cont=611e245af9b1b31cd868a305>Manica</option><option value=Zambezia data-cont=611e2485f9b1b31cd868a306>Zambezia</option><option value=Tete data-cont=611e24bef9b1b31cd868a307>Tete</option>";	
						break;
					case "Tecnologias de Informação":
						cargo.innerHTML = "<option value=Nampula data-cont=611e24eef9b1b31cd868a308>Nampula</option><option value=Niassa data-cont=611e250ef9b1b31cd868a309>Niassa</option><option value=Cabo Delgado data-cont=611e2577f9b1b31cd868a30a>Cabo Delgado</option>";	
						break;
					case "Centro de Dados":
						cargo.innerHTML = "<option value=Nampula data-cont=611e24eef9b1b31cd868a308>Nampula</option><option value=Niassa data-cont=611e250ef9b1b31cd868a309>Niassa</option><option value=Cabo Delgado data-cont=611e2577f9b1b31cd868a30a>Cabo Delgado</option>";	
						break;
					case "Energia":
						cargo.innerHTML = "<option value=Nampula data-cont=611e24eef9b1b31cd868a308>Nampula</option><option value=Niassa data-cont=611e250ef9b1b31cd868a309>Niassa</option><option value=Cabo Delgado data-cont=611e2577f9b1b31cd868a30a>Cabo Delgado</option>";	
						break;
					case "Administrativo":
						cargo.innerHTML = "<option value=Nampula data-cont=611e24eef9b1b31cd868a308>Nampula</option><option value=Niassa data-cont=611e250ef9b1b31cd868a309>Niassa</option><option value=Cabo Delgado data-cont=611e2577f9b1b31cd868a30a>Cabo Delgado</option>";	
						break;
					case "Qualidade e Otimizaçãote":
						cargo.innerHTML = "<option value=Nampula data-cont=611e24eef9b1b31cd868a308>Nampula</option><option value=Niassa data-cont=611e250ef9b1b31cd868a309>Niassa</option><option value=Cabo Delgado data-cont=611e2577f9b1b31cd868a30a>Cabo Delgado</option>";	
						break;
					case "Centro de Suporte de Operações":
						cargo.innerHTML = "<option value=Call Center data-cont=63edea83d0fb2331e0e40eb9>Call Center</option>";	
						break;
					case "Logística e Armazém":
						cargo.innerHTML = "<option value=Nampula data-cont=611e24eef9b1b31cd868a308>Nampula</option><option value=Niassa data-cont=611e250ef9b1b31cd868a309>Niassa</option><option value=Cabo Delgado data-cont=611e2577f9b1b31cd868a30a>Cabo Delgado</option>";	
						break;
					case "Recursos Humanos":
						cargo.innerHTML = "<option value=Nampula data-cont=611e24eef9b1b31cd868a308>Nampula</option><option value=Niassa data-cont=611e250ef9b1b31cd868a309>Niassa</option><option value=Cabo Delgado data-cont=611e2577f9b1b31cd868a30a>Cabo Delgado</option>";	
						break;
				}
			}



			setTimeout(function(){document.getElementById("utilizadorId").className="activarAzul"}, 100);
			setTimeout(function(){
			if(window.innerWidth<780){
			document.getElementById("mySidebar").style.width = "0";
			document.getElementById("main").style.marginLeft= "0";
			document.getElementById("main").style.width="100%";
			document.getElementById("main").style.marginBottom="0";
			document.getElementByClassName("capitalize").style.class="pequeno";
			}
			}, 50);



